{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Home | CareerGuide</title>
    <link rel="stylesheet" href="{% static 'css/admin/adminhome.css' %}">
</head>
<body>
    <nav>
        <a href="{% url 'add-qualification' %}">Add Qualification</a> 
        <a href="{% url 'add' %}">Add Career</a>
        <a href="{% url 'userlist' %}">User List</a>
        <a href="{% url 'message_list' %}">Messages</a>
        <a href="{% url 'logout' %}">Logout</a>
    </nav>
    <h1>ADMIN HOME</h1>

    <!-- Filter Dropdown -->
    <div class="filter-container">
        <form method="get" action="{% url 'adminhome' %}">
            <label for="interested">Filter by Interest: </label>
            <select name="interested" id="interested" onchange="this.form.submit()">
                <option value="" {% if not request.GET.interested %}selected{% endif %}>All</option>
                <option value="Study" {% if request.GET.interested == "Study" %}selected{% endif %}>Study</option>
                <option value="Job" {% if request.GET.interested == "Job" %}selected{% endif %}>Job</option>
            </select>
        </form>
    </div>

    <div class="careers-container">
        {% if careers %}
        {% for career in careers %}
        <div class="career-card">
            <h2>{{ career.title }}</h2>
            <p>{{ career.description }}</p>
            <p><strong>Interested In:</strong> {{ career.interested }}</p>
            <div class="career-actions">
                <a href="{% url 'edit-career' career.id %}">Edit</a> |
                <a href="{% url 'delete-career' career.id %}" onclick="return confirm('Are you sure you want to delete this career?');">Delete</a>
            </div>
        </div>
        {% endfor %}
        {% else %}
        <p>No careers found for this filter.</p>
        {% endif %}
    </div>
</body>
</html>